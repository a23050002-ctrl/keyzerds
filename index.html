<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyzer - Creator Portal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Paleta inspirada en Sora Kasugano */
            --primary-pink: #FFB6D9;
            --secondary-pink: #FFC8DD;
            --light-blue: #BDE0FE;
            --lavender: #E7C6FF;
            --white: #FFFFFF;
            --soft-purple: #C8B6FF;
            --gradient-1: linear-gradient(135deg, #FFB6D9 0%, #BDE0FE 100%);
            --gradient-2: linear-gradient(135deg, #E7C6FF 0%, #FFC8DD 100%);
            --shadow: 0 20px 60px rgba(255, 182, 217, 0.3);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow-x: hidden;
            background: #1a1a2e;
            color: var(--white);
            position: relative;
            min-height: 100vh;
        }

        /* Intro Animation */
        .intro-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            z-index: 9998;
            pointer-events: none;
            animation: fadeOutBackground 1.5s ease 1s forwards;
        }

        @keyframes fadeOutBackground {
            to {
                opacity: 0;
                visibility: hidden;
            }
        }

        .intro-text {
            font-size: 15vw;
            font-weight: bold;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 60px rgba(255, 182, 217, 0.8);
            animation: introToHeader 2.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
            letter-spacing: 0.2em;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 9999;
        }

        @keyframes introToHeader {
            0% {
                font-size: 15vw;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%) scale(0.3);
                opacity: 0;
                letter-spacing: -0.1em;
            }
            20% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.1);
            }
            50% {
                font-size: 15vw;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%) scale(1);
                letter-spacing: 0.2em;
            }
            100% {
                font-size: 3em;
                top: 180px;
                left: 50%;
                transform: translate(-50%, -50%) scale(1);
                opacity: 0;
                letter-spacing: normal;
            }
        }

        /* Hide content during intro */
        .container {
            opacity: 0;
            animation: fadeInContent 1.2s ease 1.5s forwards;
        }

        @keyframes fadeInContent {
            to {
                opacity: 1;
            }
        }

        .header h1 {
            opacity: 0;
            animation: fadeInTitle 0.5s ease 2.3s forwards;
        }

        .subtitle, .bio {
            opacity: 0;
            animation: fadeInContent 0.8s ease 2s forwards;
        }

        .profile-image-container {
            opacity: 0;
            animation: fadeInContent 1s ease 1.8s forwards;
        }

        @keyframes fadeInTitle {
            to {
                opacity: 1;
            }
        }

        /* Video Background */
        .video-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            overflow: hidden;
        }

        .video-background video {
            position: absolute;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            transform: translate(-50%, -50%);
            object-fit: cover;
        }

        /* Video overlay */
        .video-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.7) 0%, rgba(22, 33, 62, 0.7) 50%, rgba(26, 26, 46, 0.7) 100%);
            z-index: -1;
            pointer-events: none;
        }

        /* Floating Particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--primary-pink);
            border-radius: 50%;
            animation: float 15s infinite;
            opacity: 0.6;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0); }
            25% { transform: translateY(-100px) translateX(50px); }
            50% { transform: translateY(-200px) translateX(-30px); }
            75% { transform: translateY(-100px) translateX(-80px); }
        }

        /* Main Container */
        .container {
            position: relative;
            z-index: 2;
            max-width: 600px;
            margin: 0 auto;
            padding: 40px 20px;
            min-height: 100vh;
        }

        /* Header Section */
        .header {
            text-align: center;
            margin-bottom: 50px;
        }

        .profile-image-container {
            position: relative;
            width: 180px;
            height: 180px;
            margin: 0 auto 30px;
            perspective: 1000px;
        }

        .profile-image-wrapper {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }

        .profile-image-container:hover .profile-image-wrapper {
            transform: rotateY(180deg);
        }

        .profile-image, .profile-image-back {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            border: 5px solid var(--primary-pink);
            box-shadow: var(--shadow);
            object-fit: cover;
            object-position: center center;
            position: absolute;
            top: 0;
            left: 0;
            backface-visibility: hidden;
            background: linear-gradient(135deg, #2a2a3e 0%, #1a1a2e 100%);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .profile-image-back {
            transform: rotateY(180deg);
        }

        .glow-effect {
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: var(--gradient-1);
            border-radius: 50%;
            z-index: -1;
            filter: blur(20px);
            opacity: 0.6;
            animation: pulse 3s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.6; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }

        h1 {
            font-size: 3em;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            font-weight: bold;
            text-shadow: 0 0 30px rgba(255, 182, 217, 0.5);
            cursor: pointer;
        }

        .subtitle {
            font-size: 1.2em;
            color: var(--light-blue);
            margin-bottom: 20px;
            opacity: 0.9;
            min-height: 1.5em;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .rotating-text {
            display: inline-block;
            color: var(--primary-pink);
            font-weight: 600;
            width: 250px;
            text-align: center;
            position: relative;
            height: 1.5em;
            overflow: hidden;
        }

        .rotating-text span {
            display: block;
            animation: rotateText 9s infinite;
            opacity: 0;
            position: absolute;
            left: 0;
            right: 0;
            width: 100%;
            white-space: nowrap;
        }

        .rotating-text span:nth-child(1) {
            animation-delay: 0s;
        }

        .rotating-text span:nth-child(2) {
            animation-delay: 3s;
        }

        .rotating-text span:nth-child(3) {
            animation-delay: 6s;
        }

        @keyframes rotateText {
            0%, 33.33% {
                opacity: 1;
                transform: translateY(0);
            }
            36.66%, 100% {
                opacity: 0;
                transform: translateY(-10px);
            }
        }

        .bio {
            color: var(--secondary-pink);
            line-height: 1.6;
            max-width: 500px;
            margin: 0 auto;
        }

        /* Links Section */
        .links {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 40px;
        }

        .link-card {
            position: relative;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 182, 217, 0.3);
            border-radius: 20px;
            padding: 25px 30px;
            text-decoration: none;
            color: var(--white);
            font-size: 1.1em;
            font-weight: 600;
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            overflow: hidden;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .link-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--gradient-1);
            transition: left 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            z-index: -1;
        }

        .link-card:hover {
            transform: translateY(-5px) scale(1.02);
            border-color: var(--primary-pink);
            box-shadow: var(--shadow);
        }

        .link-card:hover::before {
            left: 0;
        }

        .link-icon {
            font-size: 1.5em;
            min-width: 30px;
        }

        /* Discord Presence Section */
        .discord-section {
            margin-top: 60px;
            text-align: center;
        }

        .discord-section h2 {
            font-size: 2em;
            background: var(--gradient-2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 30px;
        }

        .discord-card {
            max-width: 400px;
            margin: 30px auto;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 182, 217, 0.3);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            transition: all 0.4s ease;
        }

        .discord-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-pink);
            box-shadow: 0 15px 40px rgba(255, 182, 217, 0.4);
        }

        .discord-status {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .discord-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid var(--primary-pink);
            position: relative;
        }

        .discord-avatar img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
        }

        .status-indicator {
            position: absolute;
            bottom: 2px;
            right: 2px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 3px solid rgba(0, 0, 0, 0.8);
        }

        .status-online { background: #43b581; }
        .status-idle { background: #faa61a; }
        .status-dnd { background: #f04747; }
        .status-offline { background: #747f8d; }

        .discord-info {
            flex: 1;
            text-align: left;
        }

        .discord-username {
            font-size: 1.3em;
            font-weight: bold;
            color: var(--white);
            margin-bottom: 5px;
        }

        .discord-tag {
            font-size: 0.9em;
            color: var(--light-blue);
            opacity: 0.8;
        }

        .discord-activity {
            background: rgba(255, 182, 217, 0.1);
            border-radius: 15px;
            padding: 15px;
            margin-top: 15px;
            text-align: left;
        }

        .activity-name {
            font-size: 1.1em;
            font-weight: 600;
            color: var(--primary-pink);
            margin-bottom: 5px;
        }

        .activity-details {
            font-size: 0.9em;
            color: var(--white);
            opacity: 0.8;
            margin: 5px 0;
        }

        .activity-state {
            font-size: 0.85em;
            color: var(--light-blue);
            opacity: 0.7;
        }

        .loading-pulse {
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Social Icons */
        .social-icons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 50px;
        }

        .social-icon {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            color: var(--white);
            text-decoration: none;
            border: 2px solid rgba(255, 182, 217, 0.3);
            transition: all 0.3s ease;
        }

        .social-icon:hover {
            background: var(--gradient-1);
            border-color: var(--primary-pink);
            transform: translateY(-5px) rotate(360deg);
            box-shadow: var(--shadow);
        }

        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.8s ease forwards;
            opacity: 0;
        }

        /* Footer */
        footer {
            text-align: center;
            margin-top: 80px;
            padding: 40px 20px;
            color: var(--light-blue);
            opacity: 0.8;
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5em;
            }
            
            .profile-image-container {
                width: 150px;
                height: 150px;
                margin: 0 auto 30px;
            }

            .profile-image, .profile-image-back {
                width: 150px;
                height: 150px;
            }

            .link-card {
                padding: 20px 25px;
                font-size: 1em;
            }
        }

        /* 3D Cube Animation */
        .cube-container {
            position: fixed;
            top: 10%;
            right: 10%;
            width: 150px;
            height: 150px;
            perspective: 1000px;
            z-index: 1;
            transition: transform 0.3s ease;
            cursor: grab;
        }

        .cube-container-2 {
            position: fixed;
            bottom: 10%;
            left: 10%;
            width: 150px;
            height: 150px;
            perspective: 1000px;
            z-index: 1;
            transition: transform 0.3s ease;
            cursor: grab;
        }

        .cube-container:active,
        .cube-container-2:active {
            cursor: grabbing;
        }

        @media (max-width: 768px) {
            .cube-container,
            .cube-container-2 {
                display: none;
            }
            
            .cube-face {
                width: 80px;
                height: 80px;
            }
            
            .cube-face.front  { transform: rotateY(0deg) translateZ(40px); }
            .cube-face.back   { transform: rotateY(180deg) translateZ(40px); }
            .cube-face.right  { transform: rotateY(90deg) translateZ(40px); }
            .cube-face.left   { transform: rotateY(-90deg) translateZ(40px); }
            .cube-face.top    { transform: rotateX(90deg) translateZ(40px); }
            .cube-face.bottom { transform: rotateX(-90deg) translateZ(40px); }
        }

        @keyframes float-cube {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-30px); }
        }

        .cube {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.1s ease-out;
        }

        .cube-face {
            position: absolute;
            position: absolute;
            width: 150px;
            height: 150px;
            border: 2px solid var(--primary-pink);
            background: rgba(255, 182, 217, 0.1);
            backdrop-filter: blur(10px);
            opacity: 0.8;
        }

        .cube-face.front  { transform: rotateY(0deg) translateZ(75px); }
        .cube-face.back   { transform: rotateY(180deg) translateZ(75px); }
        .cube-face.right  { transform: rotateY(90deg) translateZ(75px); }
        .cube-face.left   { transform: rotateY(-90deg) translateZ(75px); }
        .cube-face.top    { transform: rotateX(90deg) translateZ(75px); }
        .cube-face.bottom { transform: rotateX(-90deg) translateZ(75px); }
    </style>
</head>
<body>
    <!-- Intro Animation -->
    <div class="intro-overlay"></div>
    <div class="intro-text">KEYZER</div>

    <!-- Video Background -->
    <div class="video-background">
        <video autoplay muted loop playsinline>
            <source src="light.mp4" type="video/mp4">
        </video>
    </div>
    <div class="video-overlay"></div>

    <!-- Floating Particles -->
    <div class="particles" id="particles"></div>

    <!-- 3D Cube -->
    <div class="cube-container">
        <div class="cube">
            <div class="cube-face front"></div>
            <div class="cube-face back"></div>
            <div class="cube-face right"></div>
            <div class="cube-face left"></div>
            <div class="cube-face top"></div>
            <div class="cube-face bottom"></div>
        </div>
    </div>

    <div class="cube-container-2">
        <div class="cube cube-2">
            <div class="cube-face front"></div>
            <div class="cube-face back"></div>
            <div class="cube-face right"></div>
            <div class="cube-face left"></div>
            <div class="cube-face top"></div>
            <div class="cube-face bottom"></div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="profile-image-container">
                <div class="glow-effect"></div>
                <div class="profile-image-wrapper">
                    <img src="foto.jpg" 
                         alt="Keyzer Profile" 
                         class="profile-image">
                    <img src="back.gif" 
                         alt="Keyzer Back" 
                         class="profile-image-back">
                </div>
            </div>
            <h1>KEYZER</h1>
            <p class="subtitle">
                <i class="fas fa-star"></i> 
                <span class="rotating-text">
                    <span>Creador de Contenido</span>
                    <span>Editor de Video</span>
                    <span>Nightcore Lover</span>
                </span>
                <i class="fas fa-star"></i>
            </p>
            <p class="bio">Bienvenido a mi espacio digital. Aquí encontrarás todo mi contenido, redes sociales y proyectos creativos.</p>
        </header>

        <!-- Links Section -->
        <section class="links">
            <a href="https://www.youtube.com/@KeyZerMore" class="link-card fade-in-up" style="animation-delay: 0.1s" target="_blank">
                <span class="link-icon"><i class="fab fa-youtube"></i></span>
                <span>YouTube Channel</span>
            </a>
            
            <a href="https://www.twitch.tv/keyzer_ds" class="link-card fade-in-up" style="animation-delay: 0.2s" target="_blank">
                <span class="link-icon"><i class="fab fa-twitch"></i></span>
                <span>Twitch Streams</span>
            </a>
            
            <a href="https://x.com/_KeyZerDs" class="link-card fade-in-up" style="animation-delay: 0.3s" target="_blank">
                <span class="link-icon"><i class="fab fa-twitter"></i></span>
                <span>Twitter / X</span>
            </a>
            
            <a href="https://www.instagram.com/keyzerds/" class="link-card fade-in-up" style="animation-delay: 0.4s" target="_blank">
                <span class="link-icon"><i class="fab fa-instagram"></i></span>
                <span>Instagram</span>
            </a>
            
            <a href="https://www.tiktok.com/@keyzerds?lang=es" class="link-card fade-in-up" style="animation-delay: 0.5s" target="_blank">
                <span class="link-icon"><i class="fab fa-tiktok"></i></span>
                <span>TikTok</span>
            </a>
            
            <a href="https://discord.gg/w2KwPYQ" class="link-card fade-in-up" style="animation-delay: 0.6s" target="_blank">
                <span class="link-icon"><i class="fab fa-discord"></i></span>
                <span>Discord Community</span>
            </a>
            
            <div class="link-card fade-in-up" style="animation-delay: 0.7s; cursor: pointer; position: relative;" id="contact-card" onclick="toggleEmailPopup(event)">
                <span class="link-icon"><i class="fas fa-envelope"></i></span>
                <span>Contacto</span>
                <div id="email-popup" style="display: none; position: absolute; bottom: 120%; left: 50%; transform: translateX(-50%); background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(10px); padding: 15px 25px; border-radius: 12px; white-space: nowrap; box-shadow: 0 8px 32px rgba(255, 182, 217, 0.6); border: 2px solid var(--primary-pink); z-index: 1000;">
                    <p style="margin: 0; color: #1a1a2e; font-weight: 600; font-size: 1em;">itzfarlan21@gmail.com</p>
                    <div style="position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 10px solid transparent; border-right: 10px solid transparent; border-top: 10px solid rgba(255, 255, 255, 0.98);"></div>
                </div>
            </div>
        </section>

        <!-- Discord Presence Section -->
        <section class="discord-section fade-in-up" style="animation-delay: 0.8s">
            <h2><i class="fab fa-discord"></i> Contacta directamente <i class="fab fa-discord"></i></h2>
            <div class="discord-card" id="discord-widget">
                <div class="loading-pulse">
                    <p style="color: var(--light-blue);">Conectando con Discord...</p>
                </div>
            </div>
        </section>

        <!-- Social Icons -->
        <div class="social-icons fade-in-up" style="animation-delay: 0.9s">
            <a href="https://steamcommunity.com/id/keyzer" class="social-icon" title="Steam"><i class="fab fa-steam"></i></a>
            <a href="https://pinterest.com/keyzer" class="social-icon" title="Pinterest"><i class="fab fa-pinterest"></i></a>
            <a href="https://myanimelist.net/profile/keyzer" class="social-icon" title="MyAnimeList"><i class="fas fa-book"></i></a>
            <a href="https://github.com/keyzer" class="social-icon" title="GitHub"><i class="fab fa-github"></i></a>
        </div>

        <!-- Footer -->
        <footer class="fade-in-up" style="animation-delay: 1s">
            <p>© 2025 Powered by <span id="typewriter" style="color: var(--primary-pink); font-weight: 600;">Sora.Reworks</span></p>
            <p style="margin-top: 10px; font-size: 0.9em; opacity: 0.7;">Diseñador · Editor · Creador</p>
        </footer>
    </div>

    <!-- Lenis Smooth Scroll Library -->
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.19/bundled/lenis.min.js"></script>

    <script>
        // Initialize Lenis Smooth Scroll
        const lenis = new Lenis({
            duration: 1.2,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            direction: 'vertical',
            smooth: true,
            smoothTouch: false,
            touchMultiplier: 2,
        });

        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }

        requestAnimationFrame(raf);

        // Create floating particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 15 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
                
                const colors = ['#FFB6D9', '#BDE0FE', '#E7C6FF', '#FFC8DD'];
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                
                particlesContainer.appendChild(particle);
            }
        }

        createParticles();

        // Interactive cube with mouse and scroll - CUBE 1 (top right)
        const cubeContainer = document.querySelector('.cube-container');
        const cube = document.querySelector('.cube');
        
        let isDragging = false;
        let previousMouseX = 0;
        let previousMouseY = 0;
        let rotationX = 0;
        let rotationY = 0;
        let scrollRotation = 0;
        let targetRotationX = 0;
        let targetRotationY = 0;
        let autoRotationSpeed = { x: 0.1, y: 0.2 }; // Velocidad de auto-rotación lenta

        // Interactive cube with mouse and scroll - CUBE 2 (bottom left)
        const cubeContainer2 = document.querySelector('.cube-container-2');
        const cube2 = document.querySelector('.cube-2');
        
        let isDragging2 = false;
        let previousMouseX2 = 0;
        let previousMouseY2 = 0;
        let rotationX2 = 0;
        let rotationY2 = 0;
        let autoRotationSpeed2 = { x: -0.15, y: 0.25 }; // Rotación invertida para variedad

        // Auto-rotation animation loop
        function animateCube() {
            if (!isDragging) {
                rotationX += autoRotationSpeed.x;
                rotationY += autoRotationSpeed.y;
                cube.style.transform = `rotateX(${rotationX}deg) rotateY(${rotationY}deg)`;
            }
            if (!isDragging2) {
                rotationX2 += autoRotationSpeed2.x;
                rotationY2 += autoRotationSpeed2.y;
                cube2.style.transform = `rotateX(${rotationX2}deg) rotateY(${rotationY2}deg)`;
            }
            requestAnimationFrame(animateCube);
        }

        // Disable auto animation and apply initial rotation
        cube.style.animation = 'none';
        cube.style.transform = `rotateX(${rotationX}deg) rotateY(${rotationY}deg)`;
        cube2.style.animation = 'none';
        cube2.style.transform = `rotateX(${rotationX2}deg) rotateY(${rotationY2}deg)`;
        
        // Start auto-rotation
        animateCube();

        // Mouse interaction - CUBE 1
        cubeContainer.addEventListener('mousedown', (e) => {
            isDragging = true;
            previousMouseX = e.clientX;
            previousMouseY = e.clientY;
            cube.style.transition = 'none';
        });

        // Mouse interaction - CUBE 2
        cubeContainer2.addEventListener('mousedown', (e) => {
            isDragging2 = true;
            previousMouseX2 = e.clientX;
            previousMouseY2 = e.clientY;
            cube2.style.transition = 'none';
        });

        document.addEventListener('mousemove', (e) => {
            // Cube 1 dragging
            if (isDragging) {
                const deltaX = e.clientX - previousMouseX;
                const deltaY = e.clientY - previousMouseY;
                
                rotationY += deltaX * 0.8;
                rotationX -= deltaY * 0.8;
                
                cube.style.transform = `rotateX(${rotationX}deg) rotateY(${rotationY}deg)`;
                
                previousMouseX = e.clientX;
                previousMouseY = e.clientY;
            } else {
                // Parallax effect with mouse - Cube 1
                const rect = cubeContainer.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;
                
                const deltaX = (e.clientX - centerX) / 30;
                const deltaY = (e.clientY - centerY) / 30;
                
                cubeContainer.style.transform = `translate(${deltaX}px, ${deltaY}px)`;
            }

            // Cube 2 dragging
            if (isDragging2) {
                const deltaX = e.clientX - previousMouseX2;
                const deltaY = e.clientY - previousMouseY2;
                
                rotationY2 += deltaX * 0.8;
                rotationX2 -= deltaY * 0.8;
                
                cube2.style.transform = `rotateX(${rotationX2}deg) rotateY(${rotationY2}deg)`;
                
                previousMouseX2 = e.clientX;
                previousMouseY2 = e.clientY;
            } else {
                // Parallax effect with mouse - Cube 2
                const rect2 = cubeContainer2.getBoundingClientRect();
                const centerX2 = rect2.left + rect2.width / 2;
                const centerY2 = rect2.top + rect2.height / 2;
                
                const deltaX2 = (e.clientX - centerX2) / 30;
                const deltaY2 = (e.clientY - centerY2) / 30;
                
                cubeContainer2.style.transform = `translate(${deltaX2}px, ${deltaY2}px)`;
            }
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            cube.style.transition = 'transform 0.1s ease-out';
            isDragging2 = false;
            cube2.style.transition = 'transform 0.1s ease-out';
        });

        // Scroll interaction
        let lastScroll = 0;
        lenis.on('scroll', ({ scroll }) => {
            const scrollDelta = scroll - lastScroll;
            lastScroll = scroll;
            
            if (!isDragging) {
                rotationY += scrollDelta * 0.3;
                rotationX += scrollDelta * 0.15;
                cube.style.transform = `rotateX(${rotationX}deg) rotateY(${rotationY}deg)`;
            }
            
            if (!isDragging2) {
                rotationY2 -= scrollDelta * 0.25; // Dirección opuesta
                rotationX2 += scrollDelta * 0.2;
                cube2.style.transform = `rotateX(${rotationX2}deg) rotateY(${rotationY2}deg)`;
            }
        });

        // Touch support for mobile - CUBE 1
        let previousTouchX = 0;
        let previousTouchY = 0;

        cubeContainer.addEventListener('touchstart', (e) => {
            isDragging = true;
            previousTouchX = e.touches[0].clientX;
            previousTouchY = e.touches[0].clientY;
            cube.style.transition = 'none';
            e.preventDefault();
        });

        // Touch support for mobile - CUBE 2
        let previousTouchX2 = 0;
        let previousTouchY2 = 0;

        cubeContainer2.addEventListener('touchstart', (e) => {
            isDragging2 = true;
            previousTouchX2 = e.touches[0].clientX;
            previousTouchY2 = e.touches[0].clientY;
            cube2.style.transition = 'none';
            e.preventDefault();
        });

        document.addEventListener('touchmove', (e) => {
            if (isDragging && e.touches.length > 0) {
                const deltaX = e.touches[0].clientX - previousTouchX;
                const deltaY = e.touches[0].clientY - previousTouchY;
                
                rotationY += deltaX * 0.8;
                rotationX -= deltaY * 0.8;
                
                cube.style.transform = `rotateX(${rotationX}deg) rotateY(${rotationY}deg)`;
                
                previousTouchX = e.touches[0].clientX;
                previousTouchY = e.touches[0].clientY;
            }
            
            if (isDragging2 && e.touches.length > 0) {
                const deltaX = e.touches[0].clientX - previousTouchX2;
                const deltaY = e.touches[0].clientY - previousTouchY2;
                
                rotationY2 += deltaX * 0.8;
                rotationX2 -= deltaY * 0.8;
                
                cube2.style.transform = `rotateX(${rotationX2}deg) rotateY(${rotationY2}deg)`;
                
                previousTouchX2 = e.touches[0].clientX;
                previousTouchY2 = e.touches[0].clientY;
            }
        });

        document.addEventListener('touchend', () => {
            isDragging = false;
            cube.style.transition = 'transform 0.1s ease-out';
            isDragging2 = false;
            cube2.style.transition = 'transform 0.1s ease-out';
        });

        // Intersection Observer for fade-in animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-in-up').forEach(el => {
            observer.observe(el);
        });

        // Add hover effect to link cards with parallax (except contact card)
        document.querySelectorAll('.link-card').forEach(card => {
            // Skip contact card
            if (card.id === 'contact-card') return;
            
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                
                const rotateX = (y - centerY) / 10;
                const rotateY = (centerX - x) / 10;
                
                card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateY(-5px) scale(1.02)`;
            });
            
            card.addEventListener('mouseleave', () => {
                card.style.transform = '';
            });
        });

        // Contact card email popup with global function
        window.toggleEmailPopup = function(e) {
            e.preventDefault();
            e.stopPropagation();
            
            const popup = document.getElementById('email-popup');
            if (popup) {
                const isVisible = popup.style.display === 'block';
                popup.style.display = isVisible ? 'none' : 'block';
                console.log('Popup toggled:', popup.style.display);
            }
        };

        // Close popup when clicking outside
        document.addEventListener('click', function(e) {
            const contactCard = document.getElementById('contact-card');
            const emailPopup = document.getElementById('email-popup');
            
            if (contactCard && emailPopup && !contactCard.contains(e.target)) {
                emailPopup.style.display = 'none';
            }
        });

        // Smooth scroll to top on logo click
        document.querySelector('h1').addEventListener('click', () => {
            lenis.scrollTo(0);
        });

        // Discord Presence Integration using Lanyard API
        const DISCORD_USER_ID = '347575508948746241';
        const discordWidget = document.getElementById('discord-widget');

        async function fetchDiscordPresence() {
            try {
                const response = await fetch(`https://api.lanyard.rest/v1/users/${DISCORD_USER_ID}`);
                const data = await response.json();
                
                console.log('Lanyard Response:', data); // Debug
                
                if (data.success) {
                    const presence = data.data;
                    updateDiscordWidget(presence);
                } else {
                    // Si Lanyard no funciona, mostrar información estática
                    showStaticProfile();
                }
            } catch (error) {
                console.error('Error fetching Discord presence:', error);
                showStaticProfile();
            }
        }

        function updateDiscordWidget(presence) {
            const status = presence.discord_status;
            const user = presence.discord_user;
            const activities = presence.activities || [];
            
            let activityHTML = '';
            
            // Buscar actividad principal (juego, Spotify, etc.)
            const mainActivity = activities.find(a => a.type !== 4); // type 4 es custom status
            
            if (mainActivity) {
                const activityName = mainActivity.name;
                const details = mainActivity.details || '';
                const state = mainActivity.state || '';
                
                activityHTML = `
                    <div class="discord-activity">
                        <div class="activity-name">
                            ${mainActivity.type === 2 ? '<i class="fab fa-spotify"></i>' : '<i class="fas fa-gamepad"></i>'} 
                            ${activityName}
                        </div>
                        ${details ? `<div class="activity-details">${details}</div>` : ''}
                        ${state ? `<div class="activity-state">${state}</div>` : ''}
                    </div>
                `;
            }
            
            const avatarUrl = `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png?size=128`;
            
            discordWidget.innerHTML = `
                <div class="discord-status">
                    <div class="discord-avatar">
                        <img src="${avatarUrl}" alt="${user.username}">
                        <span class="status-indicator status-${status}"></span>
                    </div>
                    <div class="discord-info">
                        <div class="discord-username">${user.username}</div>
                        <div class="discord-tag">${user.global_name || user.username}</div>
                    </div>
                </div>
                ${activityHTML}
                ${!mainActivity ? '<p style="color: var(--light-blue); opacity: 0.7; margin-top: 10px;">Sin actividad actual</p>' : ''}
            `;
        }

        function showStaticProfile() {
            discordWidget.innerHTML = `
                <div style="text-align: center;">
                    <div style="margin-bottom: 20px;">
                        <i class="fab fa-discord" style="font-size: 4em; color: var(--primary-pink);"></i>
                    </div>
                    <div class="discord-username" style="margin-bottom: 10px;">Keyzer</div>
                    <p style="color: var(--light-blue); opacity: 0.8; margin-bottom: 15px;">
                        Creador de Contenido Digital
                    </p>
                    <div class="discord-activity">
                        <div class="activity-name">
                            <i class="fas fa-info-circle"></i> Activo en Discord
                        </div>
                        <div class="activity-details">
                            Para ver mi estado en tiempo real, únete al servidor de Discord
                        </div>
                    </div>
                    <p style="font-size: 0.85em; color: var(--light-blue); margin-top: 15px; opacity: 0.6;">
                        Para habilitar presencia en vivo: <a href="https://discord.gg/lanyard" target="_blank" style="color: var(--primary-pink);">Únete al servidor de Lanyard</a>
                    </p>
                </div>
            `;
        }

        function showError() {
            discordWidget.innerHTML = `
                <p style="color: var(--primary-pink);">
                    <i class="fas fa-exclamation-circle"></i> 
                    No se pudo conectar con Discord
                </p>
                <p style="font-size: 0.9em; color: var(--light-blue); margin-top: 10px; opacity: 0.7;">
                    Verifica tu Discord User ID
                </p>
            `;
        }

        // Actualizar presencia cada 30 segundos
        fetchDiscordPresence();
        setInterval(fetchDiscordPresence, 30000);

        // Typewriter effect for footer
        const typewriterElement = document.getElementById('typewriter');
        const phrases = [
            'Sora.Reworks',
            'KeyZer',
            'Nightcore 24/7',
            'Xbox all day'
        ];
        let phraseIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        let typingSpeed = 150;

        function typeWriter() {
            const currentPhrase = phrases[phraseIndex];
            
            if (isDeleting) {
                typewriterElement.textContent = currentPhrase.substring(0, charIndex - 1);
                charIndex--;
                typingSpeed = 75;
            } else {
                typewriterElement.textContent = currentPhrase.substring(0, charIndex + 1);
                charIndex++;
                typingSpeed = 150;
            }
            
            if (!isDeleting && charIndex === currentPhrase.length) {
                // Pause at end of phrase
                typingSpeed = 2000;
                isDeleting = true;
            } else if (isDeleting && charIndex === 0) {
                isDeleting = false;
                phraseIndex = (phraseIndex + 1) % phrases.length;
                typingSpeed = 500;
            }
            
            setTimeout(typeWriter, typingSpeed);
        }

        // Start typewriter effect
        setTimeout(typeWriter, 1000);

        // Add sparkle effect on cursor
        document.addEventListener('mousemove', (e) => {
            if (Math.random() > 0.95) {
                const sparkle = document.createElement('div');
                sparkle.className = 'particle';
                sparkle.style.left = e.clientX + 'px';
                sparkle.style.top = e.clientY + 'px';
                sparkle.style.position = 'fixed';
                sparkle.style.width = '3px';
                sparkle.style.height = '3px';
                sparkle.style.pointerEvents = 'none';
                sparkle.style.animation = 'sparkle 1s ease-out forwards';
                document.body.appendChild(sparkle);
                
                setTimeout(() => sparkle.remove(), 1000);
            }
        });

        // Sparkle animation
        const style = document.createElement('style');
        style.innerHTML = `
            @keyframes sparkle {
                0% { opacity: 1; transform: scale(1); }
                100% { opacity: 0; transform: scale(0) translateY(-50px); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
